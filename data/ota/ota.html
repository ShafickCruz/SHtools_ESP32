<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <link rel="icon" href="/img/favicon.ico" type="image/x-icon" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SHtools - OTA</title>
    <link rel="stylesheet" href="ota_style.css" />
    <script src="/libs/sha.js"></script>
    <script src="ota_script.js" defer></script>
  </head>
  <body class="light-theme">
    <!--------------->
    <!-- CABEÇALHO -->
    <!--------------->
    <div class="css_cabecalho">
      <label>SHtools - OTA</label>

      <div class="css_cabecalho-controles">
        <label>Tema:</label>
        <div class="css_toggle-tema">
          <button onclick="js_set_tema('light')" class="active">Light</button>
          <button onclick="js_set_tema('dark')">Dark</button>
        </div>
        <a href="javascript:history.back()">
          <button>Voltar</button>
        </a>
      </div>
    </div>

    <!------------>
    <!-- INPUTS -->
    <!------------>
    <div class="css_flex-column-center">
      <div id="css_inputs-titulo">Selecione o firmware:</div>
      <div class="css_flex-row-stretch">
        <div class="css_flex-column-center">
          <!-- FILE INPUT -->
          <div class="css_flex-row-stretch">
            <input
              type="file"
              id="css_fileInput"
              accept=".bin"
              onchange="handle_inputFileChange()"
              style="display: none"
            />
            <input
              type="text"
              id="css_fileInput-texto"
              placeholder="Nenhum arquivo escolhido"
              readonly
            />
            <button
              id="css_filebutton"
              onclick="document.getElementById('css_fileInput').click();"
            >
              Escolher arquivo
            </button>
          </div>
          <br />
          <!-- DIRETCORY INPUT -->
          <div class="css_flex-row-stretch">
            <input
              type="file"
              id="css_dirInput"
              webkitdirectory
              onchange="handle_inputDirChange()"
              style="display: none"
            />
            <input
              type="text"
              id="css_dirInput-texto"
              placeholder="Nenhum diretório escolhido"
              readonly
              disabled
            />
            <button
              id="css_dirbutton"
              onclick="document.getElementById('css_dirInput').click();"
              disabled
            >
              Escolher diretório
            </button>
          </div>
        </div>

        <!-- LIMPAR INPUTS -->
        <button
          id="css_fileInput-limpar"
          onclick="js_limparInput()"
          style="margin-left: 10px"
          style="margin-left: 10px; height: 100%"
        >
          Limpar
        </button>
      </div>

      <!--------------------------->
      <!-- TOGGLE TIPO DE UPLOAD -->
      <!--------------------------->
      <div class="css_container-opcoes">
        <div class="css_toggle-tipoUpload">
          <button
            id="firmwareOption"
            onclick="set_tipoUpload('firmware')"
            class="active"
          >
            Firmware
          </button>
          <button id="littlefsOption" onclick="set_tipoUpload('littlefs')">
            LittleFS
          </button>
        </div>
      </div>

      <!---------------------->
      <!-- PLACA DE DESTINO -->
      <!---------------------->

      <div class="css_flex-column-center">
        <div class="css_placa-titulo">PLACA DESTINO</div>
        <button
          id="id_placa"
          class="css_placa css_placa-desabilitado"
          onclick="js_placa()"
        >
          ESP32
          <span id="id_placa-icone" class="css_placa-icone"></span>
          <div id="css_placa-tooltip" class="css_placa-tooltip">Placa Info</div>
        </button>
      </div>

      <!-------------->
      <!-- CHECKSUM -->
      <!-------------->
      <div class="css_flex-column-center css_align_left">
        <div class="css_container-checkboxes">
          <input
            disabled
            type="checkbox"
            class="css_checkboxes"
            id="id_checksum"
          />
          <label>Checksum</label>
        </div>

        <!--------------------->
        <!-- TESTAR FIRMWARE -->
        <!--------------------->
        <div class="css_container-checkboxes">
          <input
            checked
            disabled
            type="checkbox"
            class="css_checkboxes"
            id="id_testarFirmware"
          />
          <label>Testar Firmware</label>
        </div>
      </div>

      <!------------------>
      <!-- BOTÃO UPLOAD -->
      <!------------------>
      <button id="css_uploadButton" disabled onclick="js_uploadButton()">
        Upload
      </button>

      <!------------------------>
      <!-- BARRA DE PROGRESSO -->
      <!------------------------>
      <progress id="css_progressBar" value="0" max="100"></progress>

      <!--------------->
      <!-- FILE INFO -->
      <!--------------->
      <div id="css_fileInfo"></div>

      <!------------------->
      <!-- UPLOAD STATUS -->
      <!------------------->
      <div id="css_uploadStatus"></div>
    </div>

    <!------------>
    <!-- LOADER -->
    <!------------>
    <div id="css_loader-overlay" class="css_loader-overlay">
      <div class="css_loader"></div>
    </div>

    <!----------->
    <!-- TOAST -->
    <!----------->
    <div id="id_toast"></div>
  </body>
</html>
